@inherits LayoutComponentBase
@using CSP.MainApp.Models
@inject NavigationManager NavManager;

<div class="page">
	<div class="sidebar">
		@if (Setting.UserBasicDetail != null)
		{
			<NavMenu />
		}
	</div>

	<main>
		<div class="top-row px-4">
			<a href="https://docs.microsoft.com/aspnet/" target="_blank">About</a>
			<button class="nav-link btn btn-link" @onclick="SignOut">Log out</button>
		</div>

		<article class="content px-4">
			@Body
		</article>
	</main>
</div>

@code {
	private void SignOut()
	{
		SecureStorage.RemoveAll();
		Setting.UserBasicDetail = null;
		NavManager.NavigateTo("/login");
	}
}