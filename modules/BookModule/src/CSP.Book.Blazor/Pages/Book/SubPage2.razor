@page "/Book/SubPage2"
@using CSP.Book.Samples;
@using Microsoft.AspNetCore.Authorization;
@using Microsoft.Extensions.Localization
@using global::CSP.Book.Localization
@using Microsoft.AspNetCore.Components.Authorization

@inject ISampleAppService bookService
@inject IStringLocalizer<BookResource> L
@{
}
@attribute [Authorize(Roles = "admin, users")]

<h1>Book - subpage2</h1>


Sample sub page2 

<div>
	<button class="btn btn-primary" @onclick="GetAuthorOfTheDayLocal">Get author of the day</button>
	<p role="status">@author1</p>
</div>

@code {
	private string author1;

	public void GetAuthorOfTheDayLocal()
	{
		try
		{
			author1 = bookService.GetAuthorOfTheDay();
		}
		catch (Exception)
		{
			author1 = "Access Forbidden";
		}
	}
}